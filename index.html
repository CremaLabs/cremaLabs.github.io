<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Political-tambourine.GitHub.io by Political-Tambourine</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Political-tambourine.GitHub.io</h1>
      <h2 class="project-tagline">Crema documentation</h2>
    </section>

    <section class="main-content">
      <h1>
<a id="crema" class="anchor" href="#crema" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Crema</h1>

<h2>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of Contents</h2>

<h4>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overview</h4>

<h4>
<a id="development-environment-setup" class="anchor" href="#development-environment-setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Development Environment Setup</h4>

<h4>
<a id="api-endpoints" class="anchor" href="#api-endpoints" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API Endpoints</h4>

<h2>
<a id="overview-1" class="anchor" href="#overview-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overview</h2>

<h4>
<a id="crema-is-a-mobile-application-that-leverages-real-time-data-submitted-by-its-users-to-provide-availability-score-on-coffee-shops-near-a-user--people-use-crema-to-figure-out-what-coffee-shops-are-near-them-and-to-see-which-ones-have-available-seats-and-wifi-and-which-ones-do-not--after-logging-in-users-are-taken-to-a-map-view-displaying-nearby-coffee-shops--the-color-of-the-marker-indicates-availability-information-at-a-glance-but-the-user-can-click-the-marker-or-access-a-separate-list-view-of-the-shops-for-more-details-users-are-also-able-to-submit-an-availability-rating-for-a-coffee-shop-they-are-in" class="anchor" href="#crema-is-a-mobile-application-that-leverages-real-time-data-submitted-by-its-users-to-provide-availability-score-on-coffee-shops-near-a-user--people-use-crema-to-figure-out-what-coffee-shops-are-near-them-and-to-see-which-ones-have-available-seats-and-wifi-and-which-ones-do-not--after-logging-in-users-are-taken-to-a-map-view-displaying-nearby-coffee-shops--the-color-of-the-marker-indicates-availability-information-at-a-glance-but-the-user-can-click-the-marker-or-access-a-separate-list-view-of-the-shops-for-more-details-users-are-also-able-to-submit-an-availability-rating-for-a-coffee-shop-they-are-in" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Crema is a mobile application that leverages real time data submitted by its users to provide availability score on coffee shops near a user.  People use Crema to figure out what coffee shops are near them, and to see which ones have available seats (and wifi) and which ones do not.  After logging in, users are taken to a map view displaying nearby coffee shops.  The color of the marker indicates availability information at a glance, but the user can click the marker or access a separate list view of the shops for more details. Users are also able to submit an availability rating for a coffee shop they are in.</h4>

<h4>
<a id="cremas-front-end-is-built-with-angular-2-and-typescript-ionic-2-and-cordova-ionic-2-is-a-framework-that-allows-for-web-facing-html-and-css-to-be-rendered-in-a-phone-application-as-a-hybrid-application-rather-than-native--cordova-is-a-platform-with-plugin-modules-that-make-native-phone-functionality-available-to-hybrid-applications--we-are-using-cordova-to-use-the-native-google-map-technology-on-phones-as-opposed-to-a-web-view-map" class="anchor" href="#cremas-front-end-is-built-with-angular-2-and-typescript-ionic-2-and-cordova-ionic-2-is-a-framework-that-allows-for-web-facing-html-and-css-to-be-rendered-in-a-phone-application-as-a-hybrid-application-rather-than-native--cordova-is-a-platform-with-plugin-modules-that-make-native-phone-functionality-available-to-hybrid-applications--we-are-using-cordova-to-use-the-native-google-map-technology-on-phones-as-opposed-to-a-web-view-map" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Crema's front end is built with Angular 2 and Typescript, Ionic 2 and Cordova. Ionic 2 is a framework that allows for web facing HTML and CSS to be rendered in a phone application as a hybrid application, rather than native.  Cordova is a platform with plugin modules that make native phone functionality available to hybrid applications.  We are using Cordova to use the native Google Map technology on phones, as opposed to a web-view map.</h4>

<h4>
<a id="client-side-files-live-in-the-crema-directory-and-backend-files-are-in-the-crema-api-server-directory" class="anchor" href="#client-side-files-live-in-the-crema-directory-and-backend-files-are-in-the-crema-api-server-directory" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Client side files live in the <code>Crema</code> directory, and backend files are in the <code>crema-api-server</code> directory.</h4>

<h2>
<a id="development-environment-setup-1" class="anchor" href="#development-environment-setup-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Development Environment Setup</h2>

<h4>
<a id="cordova-and-ionic-require-the-installation-of-various-modules-before-they-can-be-used-complete-information-for-this-setup-as-well-as-how-to-run-the-ios-emulator-can-be-found-in-the-readme-file-of-the-crema-repository" class="anchor" href="#cordova-and-ionic-require-the-installation-of-various-modules-before-they-can-be-used-complete-information-for-this-setup-as-well-as-how-to-run-the-ios-emulator-can-be-found-in-the-readme-file-of-the-crema-repository" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cordova and Ionic require the installation of various modules before they can be used. Complete information for this setup, as well as how to run the iOS emulator can be found in the Readme file of the <code>Crema</code> repository.</h4>

<h4>
<a id="client-side-development-should-be-done-in-the-app-directory--ionic-will-compile-code-in-this-directory-to-mobile-ready-code-that-is-placed-inside-the-www-directory-do-not-modify-files-in-this-directory" class="anchor" href="#client-side-development-should-be-done-in-the-app-directory--ionic-will-compile-code-in-this-directory-to-mobile-ready-code-that-is-placed-inside-the-www-directory-do-not-modify-files-in-this-directory" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Client side development should be done in the <code>App</code> directory.  Ionic will compile code in this directory to mobile-ready code that is placed inside the <code>www</code> directory. Do not modify files in this directory.</h4>

<h4>
<a id="angular-2-uses-typescript-which-must-be-transpiled-to-javascript-before-running--the-crema-repo-has-all-necessary-typescript-configuration-files-for-transpilation-to-work-out-of-the-box" class="anchor" href="#angular-2-uses-typescript-which-must-be-transpiled-to-javascript-before-running--the-crema-repo-has-all-necessary-typescript-configuration-files-for-transpilation-to-work-out-of-the-box" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Angular 2 uses Typescript, which must be transpiled to JavaScript before running.  The Crema repo has all necessary typescript configuration files for transpilation to work out of the box.</h4>

<h2>
<a id="api-endpoints-1" class="anchor" href="#api-endpoints-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API Endpoints</h2>

<h3>
<a id="user" class="anchor" href="#user" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>User</h3>

<h3>
<a id="metrics" class="anchor" href="#metrics" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Metrics</h3>

<h4>
<a id="post-v1metrics--we-store-the-metrics-in-the-metrics-schema-which-uses-a-shopid-that-is-provided-by-google-and-an-availrating-equal-to-either-one-or-four-submitted-by-the-user-to-describe-how-busy-a-cafe-is-the-route-calls-the-exported-function-addrating-which-looks-at-reqbody-and-its-properties-and-stores-those-to-the-metrics-table-in-the-database" class="anchor" href="#post-v1metrics--we-store-the-metrics-in-the-metrics-schema-which-uses-a-shopid-that-is-provided-by-google-and-an-availrating-equal-to-either-one-or-four-submitted-by-the-user-to-describe-how-busy-a-cafe-is-the-route-calls-the-exported-function-addrating-which-looks-at-reqbody-and-its-properties-and-stores-those-to-the-metrics-table-in-the-database" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>POST /v1/metrics/</code>  We store the metrics in the metrics schema which uses a shopID that is provided by Google and an availRating equal to either one or four submitted by the user to describe how busy a cafe is. The route calls the exported function <code>addRating</code> which looks at <code>req.body</code> and its properties and stores those to the metrics table in the database.</h4>

<h4>
<a id="get-v1metrics-this-route-is-not-used-because-in-crema-api-servershopsshopscontrollerjs-where-all-the-shop-ids-are-retrieved-when-the-get-route-for-shops-is-called-from-the-client-the-getratingsforshopsbyplaceids-function-is-called-as-well-which-accumulates-an-average-rating-for-each-coffee-shop-that-is-returned-from-the-places-api-request" class="anchor" href="#get-v1metrics-this-route-is-not-used-because-in-crema-api-servershopsshopscontrollerjs-where-all-the-shop-ids-are-retrieved-when-the-get-route-for-shops-is-called-from-the-client-the-getratingsforshopsbyplaceids-function-is-called-as-well-which-accumulates-an-average-rating-for-each-coffee-shop-that-is-returned-from-the-places-api-request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>GET /v1/metrics/</code> This route is not used because in crema-api-server/shops/shops.controller.js, where all the shop IDs are retrieved when the get route for shops is called from the client, the getRatingsForShopsByPlaceIds function is called as well which accumulates an average rating for each coffee shop that is returned from the places api request.</h4>

<p>The shops schema is not used because we decided against storing every shop's data in our database.</p>

<h3>
<a id="shops" class="anchor" href="#shops" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Shops</h3>

<h4>
<a id="get-v1shops-this-results-in-a-call-to-the-get-function-in-shopsshopscontrollerjs--this-function-initiates-a-get-request-to-the-google-places-api-centered-on-the-users-current-location--the-request-returns-an-array-of-json-data-for-those-coffee-shops" class="anchor" href="#get-v1shops-this-results-in-a-call-to-the-get-function-in-shopsshopscontrollerjs--this-function-initiates-a-get-request-to-the-google-places-api-centered-on-the-users-current-location--the-request-returns-an-array-of-json-data-for-those-coffee-shops" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>GET /v1/shops/</code> This results in a call to the <code>get</code> function in <code>shops/shops.controller.js</code>.  This function initiates a GET request to the Google places API centered on the user's current location.  The request returns an array of JSON data for those coffee shops.</h4>

      <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
